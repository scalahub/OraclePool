{
  "constants": [
    {
      "name": "myAddress",
      "type": "Address",
      "value": "9faWv1ZgLgB34F5tam5WnDNzeZAyDQPS9vWtp4mFcxRTW4RkDwQ"
    },
    {
      "name": "poolNFT",
      "type": "CollByte",
      "value": "008a94c8c76bbaa1f0a346697d1794eb31d94b37e5533af9cc0b6932bf159339"
    },
    {
      "name": "participantToken",
      "type": "CollByte",
      "value": "5579de48d16e54ddb34df789d418e1f10c119e15a824ea32dc21696c067f9fbe"
    },
    {
      "name": "participant1Address",
      "type": "Address",
      "value": "9gLGZ9AtJ6AFHdpkH6pnJ2LNx98STt4E23ZrkH2T1pFysTCCbjh"
    },
    {
      "name": "participant1PubKey",
      "type": "GroupElement",
      "value": "02eee2fe4a7e75e91661d7a8453d82519453c06d7e412d6a927526fe5cf1d9301a"
    },
    {
      "name": "participant2PubKey",
      "type": "GroupElement",
      "value": "02724cd911e757db4dd0bcac7582d1812ad7c938faa77bf57c171b2a7daaef24b7"
    },
    {
      "name": "datapointAddress",
      "type": "Address",
      "value": "AucEQEJ3Y5Uhmu4o8dnoztRiAKKTErrhugq6EyACQ4SrK7NFAds5u9B93Xvb7heGC9oGL88F8muu6T6MARfqKpHS2ce1jZ6x8Ju6j9n4AvWkcQxBaLUq36wHGKmiCqRDtKT5tbhZ7hQbK7WuMAejKD7aW91yTBrBNHAXDVmZznmYjzJqDQGuPMsRHQSYGGyW5H2p"
    },
    {
      "name": "liveEpochAddress",
      "type": "Address",
      "value": "NTkuk55NdwCVifH8NTWdK7o6Z4S6RcZPmprheumFHoc537SDnupXc6VNPGTYm1p93TRoSA1pqMkwuobnJE7Q7w6UgXPRX9zpFrhEsCNFXVTNqxuduqLnQkMc8FSumuW6PA5KvNE3aq4iVMiMnt7eRS7BRnynCR5AKvuAhvWzvbqfNT9hRzxoybDFu8JNoc3nt25cpwh3Q4RyvodH51MHT91dWrVLUFjRAz8h2Fi12s7uU9XhRyDYFUhSmAVyRzBJ5sFxo25FzwKMSc9NK6KNPgXg6tEWSZs6nQUpz1Xfyfwh5NgDU8yDe3hhS76ze8hwXxTC1HwsCF9LPVAXn4C79CgJgJSTMj19HsCttD38stiGQSJLCdZejpEsDfXuq6VmnMdSMQw2eCfTzgRhQmGXQ9GSJx9y4rmMe5V4agaJeoWhSL5oao7Ee2wX2bgg4ydkYG6zaUC5yeLAVcQhtB56kN6uWttX7T66KNcgF8KjWapztQQT9vvaZoCUrDD3GGtu3pBU7zKsvjDTFn18NH9oKDCCGnrqNfUMuprmZM9onLawgjeHFXormH1uTg"
    },
    {
      "name": "epochPrepAddress",
      "type": "Address",
      "value": "2Qgfhy6m7Exe9deFZcYsSVzhfk39CD8miVnxHuGPPb8J5534aDycpy44zPMPEgLspoiwdRyc5LkTaqeE3tVM3KagY7goHFHXdZrEobWkqXP3Rczj3skXr6g4N4gg6aWVU1DrUpgJWshpeFmPvnbDqXJSa3gejK7dsp4N53iLMsx2xQaf2SV7kqBVGbmMWVM7JH8aorNXyh94Wn18o7pN4SWySoN6fG5X2J5JiSzh7FwY7E2TFJLW1MvvFcgTXTJF79tkAxNSc18hDiVHig9yFxDGg3zPDSFD589Ew4C6TY2AWhe6dVdQCP1cCptJyxSTcRqW9JJFwkmZtMbCNsfXYwmY67RGwfwbfcYjuJJtd4u5K7FJ1EcwMr4WjpTf95NFgQgBXVvo7YfuwzvkVDhrgFPKKhje2U37fsmNbW2GKREmn6Yqhxoy16uQXHyb8p13yjs4QHNTqcV9zRAb1T3PRbh7Fk5NGSWjkCJeHB"
    },
    {
      "name": "one",
      "type": "Long",
      "value": "1"
    },
    {
      "name": "two",
      "type": "Long",
      "value": "2"
    },
    {
      "name": "epochPeriod",
      "type": "Int",
      "value": "5"
    },
    {
      "name": "reward",
      "type": "Long",
      "value": "1000000"
    },
    {
      "name": "index",
      "type": "Int",
      "value": "0"
    }
  ],
  "dataInputs": [
    {
      "address": {
        "value": "datapointAddress"
      },
      "tokens": [
        {
          "id": {
            "value": "participantToken"
          }
        }
      ],
      "registers": [
        {
          "num": "R4",
          "value": "participant1PubKey",
          "type": "GroupElement"
        },
        {
          "num": "R5",
          "name": "liveEpochBoxId",
          "type": "CollByte"
        },
        {
          "num": "R6",
          "name": "datapoint1",
          "type": "Long"
        }
      ]
    },
    {
      "address": {
        "value": "datapointAddress"
      },
      "tokens": [
        {
          "id": {
            "value": "participantToken"
          }
        }
      ],
      "registers": [
        {
          "num": "R4",
          "value": "participant2PubKey",
          "type": "GroupElement"
        },
        {
          "num": "R5",
          "value": "liveEpochBoxId",
          "type": "CollByte"
        },
        {
          "num": "R6",
          "name": "datapoint2",
          "type": "Long"
        }
      ]
    }
  ],
  "inputs": [
    {
      "address": {
        "value": "liveEpochAddress"
      },
      "id": {
        "value": "liveEpochBoxId"
      },
      "tokens" : [
        {
          "id" : {
            "value": "poolNFT"
          }
        }
      ],
      "registers": [
        {
          "num": "R5",
          "name": "thisEpochEndHeight",
          "type": "Int"
        }
      ],
      "nanoErgs": {
        "name": "liveEpochNanoErgs"
      }
    }
  ],
  "outputs": [
    {
      "address": {
        "value": "epochPrepAddress"
      },
      "tokens": [
        {
          "index": 0,
          "id": {
            "value": "poolNFT"
          },
          "amount": {
            "value": "one"
          }
        }
      ],
      "registers": [
        {
          "num": "R4",
          "value": "datapoint",
          "type": "Long"
        },
        {
          "num": "R5",
          "value": "nextEpochEndHeight",
          "type": "Int"
        }
      ],
      "nanoErgs": {
        "value": "balanceNanoErgs"
      }
    },
    {
      "address": {
        "value": "participant1Address"
      },
      "registers": [
        {
          "num": "R4",
          "value": "index",
          "type": "Int"
        }
      ],
      "nanoErgs": {
        "value": "reward*2"
      }
    },
    {
      "address": {
        "value": "participant2Address"
      },
      "nanoErgs": {
        "value": "reward"
      }
    }
  ],
  "binaryOps": [
    {
      "name": "nextEpochEndHeight",
      "first": "thisEpochEndHeight",
      "second": "epochPeriod",
      "op": "add"
    },
    {
      "name": "reward*2",
      "first": "reward",
      "second": "two",
      "op": "mul"
    },
    {
      "name": "datapoint1+datapoint2",
      "first": "datapoint1",
      "second": "datapoint2",
      "op": "add"
    },
    {
      "name": "datapoint",
      "first": "datapoint1+datapoint2",
      "second": "two",
      "op": "div"
    },
    {
      "name": "balanceNanoErgs",
      "first": "liveEpochNanoErgs",
      "second": "reward",
      "op": "sub"
    }
  ],
  "unaryOps" : [
    {
      "name": "participantErgoTree",
      "op" : "proveDlog",
      "from" : "participant1PubKey"
    },
    {
      "name": "participantAddressComputed",
      "op" : "toAddress",
      "from" : "participantErgoTree"
    },
    {
      "name": "participant2ErgoTree",
      "op" : "proveDlog",
      "from" : "participant2PubKey"
    },
    {
      "name": "participant2Address",
      "op" : "toAddress",
      "from" : "participant2ErgoTree"
    }
  ],
  "postConditions" : [
    {
      "first": "participantAddressComputed",
      "second": "participant1Address",
      "op" : "Eq"
    }
  ],
  "fee": 10000000
}